<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chesa Chronicles</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>

<body>
    <div id="game-container">
        <div id="ui-layer">
            <!-- Main Menu -->
            <div id="main-menu">
                <h1>Chesa Chronicles</h1>
                <p>Choose your adventure!</p>
                <div class="menu-buttons">
                    <button id="play-leli-btn" class="menu-btn">üöΩ Play Leli Poop</button>
                    <button id="play-flappy-btn" class="menu-btn">üê¶ Play Kuh Kayi Flap</button>
                    <button id="play-angry-btn" class="menu-btn">üò° Play Angry Leli</button>
                </div>
            </div>

            <!-- Score Board (shared) -->
            <div id="score-board" class="hidden">Score: <span id="score">0</span></div>
            <div id="rotate-overlay" class="hidden">
                <div class="rotate-card">
                    <div class="rotate-icon">üîÑ</div>
                    <p>Please rotate your device to landscape to play Angry Leli.</p>
                </div>
            </div>

            <!-- Leli Poop Welcome -->
            <div id="welcome-screen" class="hidden">
                <h1>Leli Poop</h1>
                <div class="welcome-content">
                    <div class="welcome-text">
                        <p>Welcome to Leli Poop! Catch all the poop using the toilet bowl.</p>
                        <div class="instructions">
                            <p><strong>Desktop:</strong> Use Left/Right Arrow Keys ‚¨ÖÔ∏è‚û°Ô∏è</p>
                            <p><strong>Mobile:</strong> Tap screen üì±</p>
                        </div>
                        <button id="start-btn">Start Game</button>
                        <button id="back-to-menu-leli" class="back-btn">‚Üê Back to Menu</button>
                    </div>
                    <img src="assets/leli.png" alt="Leli" class="welcome-image">
                </div>
            </div>

            <!-- Leli Poop Game Over -->
            <div id="game-over" class="hidden">
                <h1>GAME OVER</h1>
                    <img src="assets/leli-sad.jpg" alt="Leli sad" class="gameover-image">
                    <p>Final Score: <span id="final-score">0</span></p>
                    <button id="restart-btn">Try Again</button>
                    <button id="menu-from-leli" class="back-btn">‚Üê Back to Menu</button>
                </div>

            <!-- Angry Leli Welcome -->
            <div id="angry-welcome" class="hidden">
                <h1>Angry Leli</h1>
                <div class="welcome-content">
                    <div class="welcome-text">
                        <p>Pull back the sling and launch Leli to knock out the targets!</p>
                        <div class="instructions">
                            <p><strong>Desktop:</strong> Click + drag to aim, release to fire</p>
                            <p><strong>Mobile:</strong> Tap + drag to aim, release to launch</p>
                        </div>
                        <button id="start-angry-btn">Start Game</button>
                        <button id="back-to-menu-angry" class="back-btn">‚Üê Back to Menu</button>
                    </div>
                    <img src="assets/leli-angry.png" alt="Angry Leli" class="welcome-image">
                </div>
            </div>

            <!-- Angry Leli Game Over -->
            <div id="angry-game-over" class="hidden">
                <h1>GAME OVER</h1>
                <img src="assets/leli-cry.png" alt="Leli crying" class="gameover-image">
                <p>Final Score: <span id="angry-final-score">0</span></p>
                <button id="restart-angry-btn">Try Again</button>
                <button id="menu-from-angry" class="back-btn">‚Üê Back to Menu</button>
            </div>

            <!-- Kuh Kayi Flap Welcome -->
            <div id="flappy-welcome" class="hidden">
                <h1>Kuh Kayi Flap</h1>
                <div class="welcome-content">
                    <div class="welcome-text">
                        <p>Help Kuh Kayi fly through the pipes!</p>
                        <div class="instructions">
                            <p><strong>Desktop:</strong> Press Space or Click to Flap</p>
                            <p><strong>Mobile:</strong> Tap screen to Flap üì±</p>
                        </div>
                        <button id="start-flappy-btn">Start Game</button>
                        <button id="back-to-menu-flappy" class="back-btn">‚Üê Back to Menu</button>
                    </div>
                    <img src="assets/kuhkayi.png" alt="Kuh Kayi" class="welcome-image">
                </div>
            </div>

            <!-- Kuh Kayi Flap Game Over -->
            <div id="flappy-game-over" class="hidden">
                <h1>GAME OVER</h1>
                <img src="assets/kuhkayi-sad.png" alt="Kuh Kayi sad" class="gameover-image">
                <p>Final Score: <span id="flappy-final-score">0</span></p>
                <button id="restart-flappy-btn">Try Again</button>
                <button id="menu-from-flappy" class="back-btn">‚Üê Back to Menu</button>
            </div>
        </div>
        <canvas id="gameCanvas"></canvas>
    </div>
    <script src="game.js"></script>
    <script src="flappy.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(() => console.log('Service Worker Registered'));
        }
    </script>
</body>

</html>
